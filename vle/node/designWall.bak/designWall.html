<html>
	<head>
		<script type="text/javascript">
		var designWall;
		
		function loadContentAfterScriptsLoad(node) {
	        	designWall = new DesignWall(node);
	        	designWall.render();
			eventManager.fire('designWallRefreshPostingsDisplay');

			if(node.tinyMCEEnabled) {
				designWall_initTinyMCE(node);
			}
	        };
			
	        function loadContent(node) {
		        /*
		         * this loadScripts() function call will load the javascript imports
		         * into this html file 
		         */
	        	scriptloader.loadScripts('designWall', document, node.id, eventManager);
	        };

	        /*
	         * This is called when the student clicks on the save button below in the body
	         */
	        function save() {
		        /*
		         * calls the save function in designWall.js
		         */
				designWall.save();
	        }
		</script>

		<script type="text/javascript" src="tinymce/jscripts/tiny_mce/tiny_mce.js"></script>
		<script type="text/javascript">

function designWall_initTinyMCE(node) {
	node.tinyMCE = tinyMCE;

	tinyMCE.init({
		// General options
		mode : "textareas",
		theme : "advanced",
		plugins : "autolink,lists,pagebreak,style,layer,table,save,advhr,advimage,advlink,emotions,iespell,inlinepopups,insertdatetime,preview,media,searchreplace,print,contextmenu,paste,directionality,fullscreen,noneditable,visualchars,nonbreaking,xhtmlxtras,template,wordcount,advlist,autosave",
		convert_urls: false,

		// Theme options
		theme_advanced_buttons1 : "hr, removeformat, visualaid,visualchars,|,sub,sup,|,charmap,advhr,bold,italic,underline,strikethrough",
		theme_advanced_buttons2 : "cut,copy,paste,pastetext,pasteword,|,search,replace,|,bullist,numlist,|,outdent,indent,blockquote,|,undo,redo,|,link,unlink,anchor,image,cleanup,code,|,forecolor,backcolor",
//		theme_advanced_buttons3 : "hr, removeformat, visualaid,visualchars,|,sub,sup,|,charmap,advhr",
//		theme_advanced_buttons4 : "insertlayer,moveforward,movebackward,absolute,|,styleprops,|,cite,abbr,acronym,del,ins,attribs,|,nonbreaking,template,pagebreak,restoredraft",
		theme_advanced_buttons3 : "",
		theme_advanced_buttons4 : "",
		theme_advanced_toolbar_location : "top",
		theme_advanced_toolbar_align : "left",
		theme_advanced_statusbar_location : "bottom",
		theme_advanced_resizing : true,

		// Example content CSS (should be your site CSS)
		content_css : "css/content.css",

		// Drop lists for link/image/media/template dialogs
		template_external_list_url : "lists/template_list.js",
		external_link_list_url : "lists/link_list.js",
		external_image_list_url : "lists/image_list.js",
		media_external_list_url : "lists/media_list.js",

		// Style formats
		style_formats : [
			{title : 'Bold text', inline : 'b'},
			{title : 'Red text', inline : 'span', styles : {color : '#ff0000'}},
			{title : 'Red header', block : 'h1', styles : {color : '#ff0000'}},
			{title : 'Example 1', inline : 'span', classes : 'example1'},
			{title : 'Example 2', inline : 'span', classes : 'example2'},
			{title : 'Table styles'},
			{title : 'Table row 1', selector : 'tr', classes : 'tablerow1'}
		],

		// Replace values for the template plugin
		template_replace_values : {
			username : "Some User",
			staffid : "991234"
		}
	});
}
		</script>
	</head>

	<body>
		<!-- TODO create the html UI that the student will see when they visit the step -->
		
		<!-- the promptDiv, responseDiv, saveButtonDiv are not required, they are only provided as an example,
			 you may delete all of these divs and create the body however you like -->
		<div id='promptOuterDiv'>
			<div id='promptDiv'></div>
		</div>

		<div id='topPostFormOuterDiv'>
		<div id='topPostFormDiv'>

				<div id='topPostFormTitleDiv'><h1>Create a New Posting</h1></div>
                <div id='topPostFormInputFieldDiv'>
                <span id='postTitleInputFieldLabel_0'>Title:</span>
                <input id='postTitleInputField_0' type='text' size='80'>
                </div>
                <div id='topPostFormTextAreaDiv'>
                <textarea id='postBodyTextArea_0' name='postBodyTextArea_0' rows='8' cols='80'>
                </textarea></div>
		<div id='topPostFormButtonBarDiv'>

		<button id="imageButton" onclick='eventManager.fire("designWallInsertImage", ["0"])'>Upload/Insert Image</button>
		<button id="submitButton" onclick='eventManager.fire("designWallSubmitPosting", ["0"])'>Submit New Posting</button>
		
		</div> <!-- #topPostFormButtonBarDiv -->

		</div>
		</div>
		
		<hr id="postingsDisplaySeparator">
		
		<div id='postingsDiv'></div>
		
		<!--<div id='responseDiv'><textarea id='studentResponseTextArea' rows='8' cols='80'></textarea></div>-->
		<!--<div id='saveButtonDiv'><input type='button' value='Save' onclick='save()'></input></div>-->
	</body>
</html>
